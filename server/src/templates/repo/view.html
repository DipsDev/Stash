{% extends 'base.html' %}

{% macro tab_link(endpoint, name) %}
    {% if request.endpoint.endswith(endpoint) %}
        <li class="active"><a href="{{ url_for(endpoint) }}">{{name}}</a></li>
    {% else %}
        <li><a href="{{ url_for(endpoint) }}">{{name}}</a></li>
    {% endif %}
{% endmacro %}


{% macro file_view(type, file_name) %}
      <tr class="border-b border-gray-200">
        <td class="px-4 py-2 text-blue-300">{{ file_name | e }}</td>
        <td class="px-4 py-2">Update issues guideline</td>
        <td class="px-4 py-2">2 months ago</td>
      </tr>
{% endmacro %}

{% block content %}
<div class="flex flex-col items-start justify-center p-7 mt-5 md:mt-0 w-1/3">
    <p class="text-[#3E6FB1] text-2xl">{{ repo.user.username | e }} / <span class="font-bold">{{ repo.name | e }}</span></p>

    {% if files | length == 0 %}
    <h2 class="text-3xl mt-5"><span class="font-semibold">Quick setup</span> - if you've done this kind of thing before</h2>
    <p class="mt-2">via HTTP</p>
    <div class="mt-7 w-full">
        <h4 class="text-2xl mb-2">Create a new repository from the command line</h4>
        <div class="bg-[#F5F5F5] py-3 px-2 rounded border-2 border-[#E0E0E0] w-full">
            <code>touch README.md <br/></code>
            <code>stash init <br/></code>
            <code>stash add README.md <br/></code>
            <code>git commit "first commit" <br/></code>
            <code>git push</code>
        </div>
    </div>
    <div class="mt-7 w-full">
        <h4 class="text-2xl mb-2">Push an existing repository from the command line</h4>
        <div class="bg-[#F5F5F5] py-3 px-2 rounded border-2 border-[#E0E0E0] w-full">
            <code>git push</code>
        </div>
    </div>
    {% else %}
    <div class="w-full mt-10">
        <div class="flex flex-row items-center justify-start">
            <p>{{ request.url }}</p>
            <span class="bg-[#F4F4F4] px-2 py-1 rounded border text-[#ACACAC]">
                branch:
                <select name="branches" class="pl-1 py-1 bg-transparent font-bold text-gray-600 text-[15px]">
                  <option value="main">main</option>
                    <option value="dev">dev</option>
                </select>
            </span>
        </div>
         <table class="w-full text-sm text-gray-700 dark:text-gray-400 mt-2">
              <tr class="bg-[#F4F4F4] text-gray-600">
                <th class="px-4 py-2">File</th>
                <th class="px-4 py-2">Commit Message</th>
                <th class="px-4 py-2">Time Since</th>
              </tr>
                 {% for file in files %}
                 {{ file_view(file[0], file[2]) }}
                 {% endfor %}
        </table>
    </div>

    {% endif %}


</div>




{% endblock %}


{% block sidebar %}
<ol class="flex flex-col items-start justify-center">
    {% for item in ["Files", "Releases", "Settings"] -%}
        <li class="text-gray-400 w-full">
            <a class="block px-3 py-4 hover:bg-[#1E282C] w-full hover:text-white">
            {{ item }}
            </a>
        </li>
    {%- endfor %}
</ol>
{% endblock %}